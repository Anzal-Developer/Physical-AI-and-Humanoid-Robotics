"use strict";(globalThis.webpackChunkclassic=globalThis.webpackChunkclassic||[]).push([[8903],{6449:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"module-01-ros2/nodes-and-topics","title":"Nodes and Topics","description":"This module covers creating and managing nodes and topics in ROS 2, the fundamental building blocks of robotic applications.","source":"@site/docs/module-01-ros2/02-nodes-and-topics.md","sourceDirName":"module-01-ros2","slug":"/module-01-ros2/nodes-and-topics","permalink":"/Physical-AI-and-Humanoid-Robotics/docs/module-01-ros2/nodes-and-topics","draft":false,"unlisted":false,"editUrl":"https://github.com/Anzal-Developer/Physical-AI-and-Humanoid-Robotics/tree/main/docs/module-01-ros2/02-nodes-and-topics.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Nodes and Topics"},"sidebar":"tutorialSidebar","previous":{"title":"ROS 2 Architecture","permalink":"/Physical-AI-and-Humanoid-Robotics/docs/module-01-ros2/architecture"},"next":{"title":"URDF Basics","permalink":"/Physical-AI-and-Humanoid-Robotics/docs/module-01-ros2/urdf-basics"}}');var i=r(4848),o=r(8453);const t={sidebar_position:2,title:"Nodes and Topics"},l="Nodes and Topics",a={},c=[{value:"Creating a Node",id:"creating-a-node",level:2},{value:"Basic Node Structure",id:"basic-node-structure",level:3},{value:"Topics and Publishers/Subscribers",id:"topics-and-publisherssubscribers",level:2},{value:"Publishers",id:"publishers",level:3},{value:"Subscribers",id:"subscribers",level:3},{value:"Mermaid.js Diagram: Node Lifecycle and Execution Model",id:"mermaidjs-diagram-node-lifecycle-and-execution-model",level:2},{value:"Python Code Snippet: Creating a Custom ROS 2 Node with Publishers and Subscribers",id:"python-code-snippet-creating-a-custom-ros-2-node-with-publishers-and-subscribers",level:2},{value:"Quality of Service (QoS) Settings",id:"quality-of-service-qos-settings",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"nodes-and-topics",children:"Nodes and Topics"})}),"\n",(0,i.jsx)(n.p,{children:"This module covers creating and managing nodes and topics in ROS 2, the fundamental building blocks of robotic applications."}),"\n",(0,i.jsx)(n.h2,{id:"creating-a-node",children:"Creating a Node"}),"\n",(0,i.jsx)(n.p,{children:"A ROS 2 node is an executable that uses ROS client libraries to communicate with other nodes."}),"\n",(0,i.jsx)(n.h3,{id:"basic-node-structure",children:"Basic Node Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass MyNode(Node):\r\n    def __init__(self):\r\n        super().__init__('node_name')\r\n        # Initialize node components here\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = MyNode()\r\n    rclpy.spin(node)\r\n    node.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"topics-and-publisherssubscribers",children:"Topics and Publishers/Subscribers"}),"\n",(0,i.jsx)(n.h3,{id:"publishers",children:"Publishers"}),"\n",(0,i.jsx)(n.p,{children:"Publishers send data to topics. Multiple subscribers can listen to the same topic."}),"\n",(0,i.jsx)(n.h3,{id:"subscribers",children:"Subscribers"}),"\n",(0,i.jsx)(n.p,{children:"Subscribers receive data from topics. They register a callback function that processes incoming messages."}),"\n",(0,i.jsx)(n.h2,{id:"mermaidjs-diagram-node-lifecycle-and-execution-model",children:"Mermaid.js Diagram: Node Lifecycle and Execution Model"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mermaid",children:"stateDiagram-v2\r\n    [*] --\x3e Uninitialized\r\n    Uninitialized --\x3e Initializing : create_node()\r\n    Initializing --\x3e Active : rclpy.spin()\r\n    Active --\x3e Spinning : processing callbacks\r\n    Spinning --\x3e Active : between callbacks\r\n    Active --\x3e ShuttingDown : rclpy.shutdown()\r\n    ShuttingDown --\x3e [*]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"python-code-snippet-creating-a-custom-ros-2-node-with-publishers-and-subscribers",children:"Python Code Snippet: Creating a Custom ROS 2 Node with Publishers and Subscribers"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\nfrom geometry_msgs.msg import Twist\r\n\r\nclass RobotController(Node):\r\n    def __init__(self):\r\n        super().__init__('robot_controller')\r\n\r\n        # Create publisher for velocity commands\r\n        self.cmd_vel_publisher = self.create_publisher(Twist, 'cmd_vel', 10)\r\n\r\n        # Create subscriber for sensor data\r\n        self.sensor_subscriber = self.create_subscription(\r\n            String,\r\n            'sensor_data',\r\n            self.sensor_callback,\r\n            10\r\n        )\r\n\r\n        # Timer for periodic control updates\r\n        self.timer = self.create_timer(0.1, self.control_loop)\r\n        self.get_logger().info('Robot Controller node initialized')\r\n\r\n    def sensor_callback(self, msg):\r\n        self.get_logger().info(f'Received sensor data: {msg.data}')\r\n        # Process sensor data and update control strategy\r\n\r\n    def control_loop(self):\r\n        # Generate control commands based on current state\r\n        cmd_vel = Twist()\r\n        cmd_vel.linear.x = 0.5  # Move forward at 0.5 m/s\r\n        cmd_vel.angular.z = 0.0  # No rotation\r\n        self.cmd_vel_publisher.publish(cmd_vel)\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    robot_controller = RobotController()\r\n\r\n    try:\r\n        rclpy.spin(robot_controller)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        robot_controller.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"quality-of-service-qos-settings",children:"Quality of Service (QoS) Settings"}),"\n",(0,i.jsx)(n.p,{children:"QoS settings control how messages are delivered:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Reliability"}),": Best effort or reliable delivery"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Durability"}),": Volatile or transient local"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"History"}),": Keep all or keep last N messages"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Depth"}),": Number of messages to store"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use descriptive node and topic names"}),"\n",(0,i.jsx)(n.li,{children:"Implement proper error handling"}),"\n",(0,i.jsx)(n.li,{children:"Use appropriate QoS settings for your application"}),"\n",(0,i.jsx)(n.li,{children:"Clean up resources properly in destroy_node()"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(n.p,{children:"Continue to the next lesson to learn about URDF basics for robot modeling."})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var s=r(6540);const i={},o=s.createContext(i);function t(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);